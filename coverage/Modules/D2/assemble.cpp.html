<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>assemble.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include "assemble.h"
#include "Car.h"

#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;

// TODO: The menu operation function should be classified into a class and global variables should be removed.
<span style = "background-color:#dfd">Car car;</span>

void delay(int ms)
<span style = "background-color:#dfd">{</span>
#ifdef NDEBUG

    volatile int sum = 0;
    for (int i = 0; i &lt; 1000; i++)
    {
        for (int j = 0; j &lt; 1000; j++)
        {
            for (int t = 0; t &lt; ms; t++)
            {
                sum++;
            }
        }
    }
#endif
<span style = "background-color:#dfd">}</span>

#ifdef NDEBUG
int run_assemble()
{
    char buf[100];
    QuestionType step = CarType_Q;

    while (1)
    {
        PrintMenuByStep(step);
        UserInputAndRemoveLF(buf);

        if (IsExit(buf))
        {
            printf("¹ÙÀÌ¹ÙÀÌ\n");
            break;
        }

        int answer;
        if (InputVaildation(buf, step, answer) != InputValidationResult::Valid)
            continue;
        if (InputCheckForMenuTransition(answer, step) != MenuTranstion::Forward)
            continue;

        if (step != Run_Test)
        {
            SelectCarAndParts(step, answer);
            MenuNormalTransition(step);
        }
        else if (step == Run_Test)
        {
            ProducedCar(answer);
        }
    }
    return 0;
}

void SelectCarAndParts(QuestionType step, int answer)
{
    switch (step)
    {
        case CarType_Q: selectCarType(answer); break;
        case Engine_Q: selectEngine(answer); break;
        case brakeSystem_Q: selectbrakeSystem(answer); break;
        case SteeringSystem_Q: selectSteeringSystem(answer); break;
    }
    delay(800);
}

void MenuNormalTransition(QuestionType&amp; step)
{
    switch (step)
    {
        case CarType_Q: step = Engine_Q; break;
        case Engine_Q: step = brakeSystem_Q; break;
        case brakeSystem_Q: step = SteeringSystem_Q; break;
        case SteeringSystem_Q: step = Run_Test; break;
    }
}

void ProducedCar(int answer)
{
    if (answer == 1)
    {
        car.Run();
    }
    else if (answer == 2)
    {
        printf("Test...\n");
        delay(1500);
        car.Test();
    }
    delay(2000);
}
#endif</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>